---
title: MCP Server Installation
description: Step-by-step guide to install and set up the Refaktor MCP Server
---

import { Tabs, TabItem, Steps, Card, CardGrid } from '@astrojs/starlight/components';


This guide will help you install and configure the Refaktor MCP Server for use with AI assistants.

## Prerequisites

Before installing the MCP Server, you need:

#### Refaktor CLI
The core Refaktor command-line tool must be installed and accessible

#### Node.js 18+
Required to run the MCP Server (check with `node --version`)

## Step 1: Install Refaktor CLI

### Quick Install (Recommended)

The easiest way to install Refaktor:

```bash
curl -fsSL https://docspring.github.io/refaktor/install.sh | bash
```

### Manual Installation by Platform

<Tabs>
  <TabItem label="Linux">
    ### x86_64 / amd64
    ```bash
    curl -L https://github.com/DocSpring/refaktor/releases/latest/download/refaktor-linux-amd64.tar.gz | tar xz
    sudo mv refaktor /usr/local/bin/refaktor
    sudo chmod 755 /usr/local/bin/refaktor
    refaktor --version
    ```
    
    ### arm64
    ```bash
    curl -L https://github.com/DocSpring/refaktor/releases/latest/download/refaktor-linux-arm64.tar.gz | tar xz
    sudo mv refaktor /usr/local/bin/refaktor
    sudo chmod 755 /usr/local/bin/refaktor
    refaktor --version
    ```
  </TabItem>
  
  <TabItem label="macOS">
    ### Intel (x86_64)
    ```bash
    curl -L https://github.com/DocSpring/refaktor/releases/latest/download/refaktor-macos-amd64.tar.gz | tar xz
    sudo mv refaktor /usr/local/bin/refaktor
    sudo chmod 755 /usr/local/bin/refaktor
    refaktor --version
    ```
    
    ### Apple Silicon (arm64)
    ```bash
    curl -L https://github.com/DocSpring/refaktor/releases/latest/download/refaktor-macos-arm64.tar.gz | tar xz
    sudo mv refaktor /usr/local/bin/refaktor
    sudo chmod 755 /usr/local/bin/refaktor
    refaktor --version
    ```
  </TabItem>
  
  <TabItem label="Windows">
    *Coming soon - Windows builds will be available in a future release*
    
    ### Build from Source (Alternative)
    ```powershell
    # Install Rust for Windows from https://win.rustup.rs/
    # Clone and build from source
    git clone https://github.com/DocSpring/refaktor.git
    cd refaktor
    cargo build --release
    # Copy target/release/refaktor.exe to your PATH
    ```
  </TabItem>
</Tabs>

## Step 2: Configure the MCP Server

### Recommended: Use with npx (No Installation Required)

The simplest way to use the MCP Server is with npx, which requires no installation:

```bash
# This command will be used in your MCP configuration
npx @refaktor/mcp-server
```

This approach ensures you always use the latest version and avoids global package management issues.

### Alternative: Global Installation

If you prefer a global installation:

```bash
# Install globally with npm
npm install -g @refaktor/mcp-server
```

## Step 3: Configure Your AI Assistant

<Tabs>
  <TabItem label="Claude Desktop">
    ### Claude Desktop Configuration
    
    1. Open Claude Desktop settings
    2. Navigate to the Developer section
    3. Add the following to your MCP servers configuration:
    
    ```json
    {
      "mcpServers": {
        "refaktor": {
          "command": "npx",
          "args": ["-y", "@refaktor/mcp-server"]
        }
      }
    }
    ```
    
    4. Restart Claude Desktop for the changes to take effect
  </TabItem>
  
  <TabItem label="Cursor">
    ### Cursor Configuration
    
    1. Open Cursor settings (Cmd/Ctrl + ,)
    2. Search for "MCP" in settings
    3. Edit the MCP configuration file
    4. Add the Refaktor server:
    
    ```json
    {
      "mcpServers": {
        "refaktor": {
          "command": "npx",
          "args": ["-y", "@refaktor/mcp-server"]
        }
      }
    }
    ```
    
    5. Reload Cursor window (Cmd/Ctrl + R)
  </TabItem>
  
  <TabItem label="Continue">
    ### Continue Configuration
    
    1. Open your Continue configuration file (`~/.continue/config.json`)
    2. Add the MCP server to the `mcpServers` section:
    
    ```json
    {
      "mcpServers": [
        {
          "name": "refaktor",
          "command": "npx",
          "args": ["-y", "@refaktor/mcp-server"]
        }
      ]
    }
    ```
    
    3. Restart Continue or reload the configuration
  </TabItem>
  
  <TabItem label="Other MCP Clients">
    ### Generic MCP Client Configuration
    
    For any MCP-compatible client, use these connection details:
    
    **Command:** `npx`  
    **Arguments:** `["-y", "@refaktor/mcp-server"]`
    
    Or if installed globally:
    
    **Command:** `refaktor-mcp`  
    **Arguments:** `[]`
    
    The server communicates via standard input/output (stdio) following the MCP protocol.
  </TabItem>
</Tabs>

## Step 4: Verify Installation

<Steps>
1. **Check Refaktor CLI**
   ```bash
   refaktor --version
   # Should output: refaktor x.y.z
   ```

2. **Check Node.js version**
   ```bash
   node --version
   # Should output: v18.x.x or higher
   ```

3. **Test MCP Server directly (optional)**
   ```bash
   # This should start the server (Ctrl+C to exit)
   npx @refaktor/mcp-server
   ```

4. **Test in your AI assistant**
   Ask your AI assistant: "Can you check if the Refaktor MCP tools are available?"
   
   The assistant should list the 7 available Refaktor tools:
   - refaktor_plan
   - refaktor_apply
   - refaktor_undo
   - refaktor_redo
   - refaktor_history
   - refaktor_status
   - refaktor_preview
</Steps>

## Troubleshooting

### "Refaktor CLI is not available"

This error means the MCP Server cannot find the `refaktor` binary:

1. **Verify installation:**
   ```bash
   which refaktor  # On macOS/Linux
   where refaktor  # On Windows
   ```

2. **Check PATH environment variable:**
   ```bash
   echo $PATH  # On macOS/Linux
   echo %PATH%  # On Windows
   ```

3. **Ensure the refaktor binary is in a PATH directory**

### "Command not found: refaktor-mcp"

If you see this error with global installation:

1. **Check global npm/pnpm bin directory is in PATH:**
   ```bash
   npm config get prefix
   # Add <prefix>/bin to your PATH
   ```

2. **Try using npx instead:**
   ```json
   {
     "command": "npx",
     "args": ["-y", "@refaktor/mcp-server"]
   }
   ```

### MCP Server not appearing in AI assistant

1. **Restart your AI assistant application**
2. **Check the configuration file location**
3. **Verify JSON syntax is correct**
4. **Check application logs for MCP errors**

### Permission errors on macOS/Linux

If you get permission errors when moving the binary:

```bash
# Use sudo for system directories
sudo mv refaktor /usr/local/bin/

# Or use a user directory instead
mkdir -p ~/.local/bin
mv refaktor ~/.local/bin/
# Add ~/.local/bin to your PATH in ~/.bashrc or ~/.zshrc
```

## Platform-Specific Notes

### macOS

- If you use Homebrew, you can create a custom formula for easier updates
- Apple Silicon (M1/M2) users should download the `aarch64` version
- Intel Mac users should download the `x86_64` version

### Linux

- Most distributions work with the standard Linux binary
- For Alpine Linux or musl-based systems, build from source
- Add to `/usr/local/bin` or `~/.local/bin` depending on your preference

### Windows

- Run terminals as Administrator if installing to system directories
- Use PowerShell or Windows Terminal for best compatibility
- Consider using WSL2 for a more Unix-like experience

## Next Steps

Now that you have the MCP Server configured:

- [**Configuration**](/refaktor/mcp/configuration) - Customize the MCP Server settings
- [**Tools Reference**](/refaktor/mcp/tools) - Learn about each available tool
- [**Usage Examples**](/refaktor/mcp/examples) - See real-world refactoring examples
